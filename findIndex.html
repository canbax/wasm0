<script async src=findIndex.js></script><input id=arrSize type=number value=1000000><button id=mybutton>Compare JS vs C on Fibonacci</button><script>function getArray(){const n=Number(document.getElementById("arrSize").value);return Array.from({length:n},(()=>Math.floor(Math.random()*n)))}function arrayOperationsOnC(n,e){const r=performance.now(),o=n.length,t=Module._malloc(4*o);Module.HEAP32.set(new Int32Array(n),t/4);const a=Module.cwrap("findIndex","number",["number","number","number"])(t,o,e);console.log(a),Module._free(t);return performance.now()-r}function arrayOperationsOnJS(n,e){const r=performance.now(),o=findIndex(n,e);console.log(o);return performance.now()-r}function findIndex(n,e){for(let r=0;r<n.length;r++)if(n[r]===e)return r;return-1}document.getElementById("mybutton").addEventListener("click",(()=>{const n=getArray(),e=Array.from(n),r=Math.floor(Math.random()*n.length),o=arrayOperationsOnC(n,r),t=arrayOperationsOnJS(e,r);console.log("C time:",o,"JS time:",t)}))</script>